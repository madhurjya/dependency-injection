{"version":3,"sources":["webpack:///webpack/bootstrap f494320485a2891603b8","webpack:///./dependencyContainer.js","webpack:///./parameterDetails.js","webpack:///./utils.js","webpack:///./index.js","webpack:///./dependencyMapping.js","webpack:///./dependencyDetails.js","webpack:///./parameterMapper.js","webpack:///./propertyMapper.js"],"names":["_registrations","Map","DependencyContainer","isRegistered","registrationName","has","register","name","set","get","resolve","mappingName","Error","dependencyMapping","_mappings","dependencyDetails","_resolve","inject","func","TypeError","funcArguments","map","param","ParameterDetails","constructor","parameterName","_name","_resolveAsValue","_valueToResolve","_resolveAsDependency","_registrationNameToResolve","_mappingNameToResolve","asValue","valueToResolve","asDependency","isFunction","getFunctionParameters","paramExtract","toString","match","length","split","replace","trim","DependencyMapping","asType","type","DependencyDetails","_type","_resolveWithConstructor","_constructorParameterMapper","_resolvePropertyValues","_propertyValueMapper","_isInSingletonScope","_resolvedInstance","withConstructor","parameterMapperFunc","withProperties","propertyValueMapperFunc","inSingletonScope","constructorArguments","forEach","value","ParameterMapper","parameterNames","_parameterMap","values","PropertyMapper","_propertyMap","property","entries","prop"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f494320485a2891603b8","import DependencyMapping from './dependencyMapping';\r\nimport { getFunctionParameters, isFunction } from './utils';\r\n\r\nconst _registrations = new Map();\r\n\r\nclass DependencyContainer {\r\n    static isRegistered(registrationName) {\r\n        return _registrations.has(registrationName);\r\n    }\r\n    static register(name) {\r\n        if (!_registrations.has(name)) {\r\n            _registrations.set(name, new DependencyMapping());\r\n        }\r\n        return _registrations.get(name);\r\n    }\r\n    static resolve(registrationName, mappingName) {\r\n        if (!_registrations.has(registrationName)) {\r\n            throw new Error(`${registrationName} is not registered.`);\r\n        }\r\n        const dependencyMapping = _registrations.get(registrationName);\r\n        if (!dependencyMapping._mappings.has(mappingName)) {\r\n            throw new Error(`Mapping ${mappingName} is not registered.`);\r\n        }\r\n        const dependencyDetails = dependencyMapping._mappings.get(mappingName);\r\n        return dependencyDetails._resolve();\r\n    }\r\n    static inject(func) {\r\n        if (!isFunction(func)) {\r\n            throw new TypeError('Must be a function of class');\r\n        }\r\n        const funcArguments = getFunctionParameters(func)\r\n            .map(param => {\r\n                return DependencyContainer.resolve(param);\r\n            });\r\n        return func(...funcArguments);\r\n    }\r\n}\r\n\r\nexport default DependencyContainer;\n\n\n// WEBPACK FOOTER //\n// ./dependencyContainer.js","import DependencyContainer from './dependencyContainer';\r\n\r\nclass ParameterDetails {\r\n    constructor(parameterName) {\r\n        this._name = parameterName;\r\n\r\n        this._resolveAsValue = false;\r\n        this._valueToResolve = null;\r\n\r\n        this._resolveAsDependency = false;\r\n        this._registrationNameToResolve = null;\r\n        this._mappingNameToResolve = null;\r\n    }\r\n    asValue(valueToResolve) {\r\n        this._resolveAsValue = true;\r\n        this._valueToResolve = valueToResolve;\r\n    }\r\n    asDependency(registrationName, mappingName) {\r\n        this._resolveAsDependency = true;\r\n        this._registrationNameToResolve = registrationName;\r\n        this._mappingNameToResolve = mappingName;\r\n    }\r\n\r\n    _resolve() {\r\n        if (this._resolveAsValue) {\r\n            return this._valueToResolve;\r\n        } else if (this._resolveAsDependency) {\r\n            return DependencyContainer.resolve(this._registrationNameToResolve,\r\n                this._mappingNameToResolve);\r\n        }\r\n    }\r\n}\r\n\r\nexport default ParameterDetails;\n\n\n// WEBPACK FOOTER //\n// ./parameterDetails.js","\r\nexport function isFunction(func) {\r\n    return typeof func === 'function';\r\n}\r\n\r\nexport function getFunctionParameters(func) {\r\n    const paramExtract = func.toString()\r\n        .match(/\\s*function[^(]*\\(([^)]*)\\)/);\r\n    if (paramExtract && paramExtract.length === 2) {\r\n        return paramExtract[1]\r\n            .split(',')\r\n            .map(param => param.replace(/\\/\\/.*?[\\r\\n]|\\/\\*(?:.|[\\r\\n])*?\\*\\//g, '').trim());\r\n    } else {\r\n        throw new Error('Unable to fetch parameter details.');\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./utils.js","import DependencyContainer from './dependencyContainer';\r\n\r\nexport default DependencyContainer;\n\n\n// WEBPACK FOOTER //\n// ./index.js","import DependencyDetails from './dependencyDetails';\r\n\r\nclass DependencyMapping {\r\n    constructor() {\r\n        this._mappings = new Map();\r\n    }\r\n    asType(type, mappingName) {\r\n        if (this._mappings.has(mappingName)) {\r\n            throw new Error(`${mappingName || 'default'} mapping is already registered.`);\r\n        }\r\n        const dependencyDetails = new DependencyDetails(type);\r\n        this._mappings.set(mappingName, dependencyDetails);\r\n        return dependencyDetails;\r\n    }\r\n}\r\n\r\nexport default DependencyMapping;\n\n\n// WEBPACK FOOTER //\n// ./dependencyMapping.js","import ParameterMapper from './parameterMapper';\r\nimport PropertyMapper from './propertyMapper';\r\nimport { getFunctionParameters, isFunction } from './utils';\r\n\r\nclass DependencyDetails {\r\n    constructor(type) {\r\n        this._type = type;\r\n        this._resolveWithConstructor = false;\r\n        this._constructorParameterMapper = null;\r\n        this._resolvePropertyValues = false;\r\n        this._propertyValueMapper = false;\r\n        this._isInSingletonScope = false;\r\n        this._resolvedInstance = null;\r\n    }\r\n    withConstructor(parameterMapperFunc) {\r\n        if (this._resolveWithConstructor === true) {\r\n            throw new Error('Constructor is already configured.');\r\n        }\r\n        this._resolveWithConstructor = true;\r\n        this._constructorParameterMapper = new ParameterMapper(getFunctionParameters(this._type));\r\n        if (isFunction(parameterMapperFunc)) {\r\n            parameterMapperFunc(this._constructorParameterMapper);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    withProperties(propertyValueMapperFunc) {\r\n        if (this._resolvePropertyValues === true) {\r\n            throw new Error('Property values are already configured.');\r\n        }\r\n        this._resolvePropertyValues = true;\r\n        this._propertyValueMapper = new PropertyMapper();\r\n        if (isFunction(propertyValueMapperFunc)) {\r\n            propertyValueMapperFunc(this._propertyValueMapper);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    inSingletonScope() {\r\n        this._isInSingletonScope = true;\r\n    }\r\n\r\n    _resolve() {\r\n        if (this._isInSingletonScope && this._resolvedInstance) {\r\n            return this._resolvedInstance;\r\n        } else {\r\n            if (this._resolveWithConstructor === true) {\r\n                const constructorArguments = this._constructorParameterMapper._resolve();\r\n                this._resolvedInstance = new this._type(...constructorArguments);\r\n            } else {\r\n                this._resolvedInstance = new this._type();\r\n            }\r\n            if (this._resolvePropertyValues === true) {\r\n                this._propertyValueMapper._resolve()\r\n                    .forEach(([name, value]) => {\r\n                        this._resolvedInstance[name] = value;\r\n                    });\r\n            }\r\n            return this._resolvedInstance;\r\n        }\r\n    }\r\n}\r\n\r\nexport default DependencyDetails;\n\n\n// WEBPACK FOOTER //\n// ./dependencyDetails.js","import DependencyContainer from './dependencyContainer';\r\nimport ParameterDetails from './parameterDetails';\r\n\r\nclass ParameterMapper {\r\n    constructor(parameterNames) {\r\n        this._parameterMap = new Map(\r\n            parameterNames\r\n                .map(param => [param, new ParameterDetails(param)])\r\n        );\r\n    }\r\n    param(name) {\r\n        if (!this._parameterMap.has(name)) {\r\n            throw new Error(`Parameter \"${name}\" was not detected.`);\r\n        }\r\n        return this._parameterMap.get(name);\r\n    }\r\n\r\n    _resolve() {\r\n        return [...this._parameterMap.values()].map(param => param._resolve());\r\n    }\r\n}\r\n\r\nexport default ParameterMapper;\n\n\n// WEBPACK FOOTER //\n// ./parameterMapper.js","import ParameterDetails from './parameterDetails';\r\n\r\nclass PropertyMapper {\r\n    constructor() {\r\n        this._propertyMap = new Map();\r\n    }\r\n    property(name) {\r\n        if (!this._propertyMap.has(name)) {\r\n            this._propertyMap.set(name, new ParameterDetails(name));\r\n        }\r\n        return this._propertyMap.get(name);\r\n    }\r\n    _resolve() {\r\n        return [...this._propertyMap.entries()]\r\n            .map(([name, prop]) => [name, prop._resolve()]);\r\n    }\r\n}\r\n\r\nexport default PropertyMapper;\n\n\n// WEBPACK FOOTER //\n// ./propertyMapper.js"],"sourceRoot":""}